CfgFile = "config.ini"
CfgAuto = "autoexec.ini"
--============================================================================
-- Configuration
--============================================================================
Cfg = 
{
  -- Standard PK 1.64 config params

    AllowBrightskins = true,
    AllowBunnyhopping = true,
    AllowForwardRJ = true,
    AmbientSounds = true,
    AmbientVolume = 77,
    AutoChangeWeapon = true,
    BestExplosives = {0,41,32,},
    BestNonExplosives = {72,71,62,61,51,52,42,31,22,21,12,11,0,},
    BestWeapons1 = {32,0,72,71,62,61,51,52,41,42,31,22,21,12,11,},
    BestWeapons2 = {12,0,72,71,62,61,51,52,41,42,32,31,22,21,11,},
    Bloom = true,
    Brightness = 0.5,
    BrightskinEnemy = "Red",
    BrightskinTeam = "Blue",
    FixedColors = true    ,
    CaptureLimit = 10,
    CharacterShadow = "Off",
    ClipPlane = 100,
    ConnectionSpeed = 4,
    Contrast = 0.5,
    Coronas = true,
    Credits = true,
    Crosshair = 1,
    CrosshairR = 255,
    CrosshairG = 255,
    CrosshairB = 255,
    CrosshairSize = 1,
    CrosshairTrans = 100,
    Decals = false,
    DecalsStayTime = 0.4,
    DedicatedServer = false,
    DetailTextures = true,
    DisturbSound3DFreq = 0.1,
    DynamicLights = 1,
    EAXAcoustics = true,
    FOV = 95,
    FragLimit = 0,
    Fullscreen = true,
    GameMode = "Free For All",
    Gamma = 1,
    GraphicsQuality = 0, -- Custom
    HeadBob = 100,
    HUDSize = 1,
    HUDTransparency = 25,
    InvertMouse = false,
    KeyAlternativeAlternativeFire = "Right Ctrl",
    KeyAlternativeBulletTime = "Return",
    KeyAlternativeFire = "None",
    KeyAlternativeFireBestWeapon1 = "None",
    KeyAlternativeFireBestWeapon2 = "None",
    KeyAlternativeFireSwitch = "None",
    KeyAlternativeFireSwitchToggle = "None",
    KeyAlternativeFlashlight = "None",
    KeyAlternativeForwardRocketJump = "None",
    KeyAlternativeJump = "None",
    KeyAlternativeMenu = "None",
    KeyAlternativeMoveBackward = "Cursor Down",
    KeyAlternativeMoveForward = "Cursor Up",
    KeyAlternativeNextWeapon = "None",
    KeyAlternativePause = "None", -- default "P"
    KeyAlternativePreviousWeapon = "None",
    KeyAlternativeQuickLoad = "None",
    KeyAlternativeQuickSave = "None",
    KeyAlternativeRocketJump = "None",
    KeyAlternativeSayToAll = "None",
    KeyAlternativeSayToTeam = "None",
    KeyAlternativeScoreboard = "None",
    KeyAlternativeScreenshot = "None",
    KeyAlternativeSelectBestWeapon1 = "None",
    KeyAlternativeSelectBestWeapon2 = "None",
    KeyAlternativeStrafeLeft = "Cursor Left",
    KeyAlternativeStrafeRight = "Cursor Right",
    KeyAlternativeWeapon1 = "Delete",
    KeyAlternativeWeapon2 = "None",
    KeyAlternativeWeapon3 = "End",
    KeyAlternativeWeapon4 = "Page Down",
    KeyAlternativeWeapon5 = "None",
    KeyAlternativeWeapon6 = "None",
    KeyAlternativeWeapon7 = "None",
    KeyAlternativeWeapon8 = "None",
    KeyAlternativeWeapon9 = "None",
    KeyAlternativeWeapon10 = "None",
    KeyAlternativeWeapon11 = "None",
    KeyAlternativeWeapon12 = "None",
    KeyAlternativeWeapon13 = "None",
    KeyAlternativeWeapon14 = "None",
    KeyAlternativeUseCards = "None",
    KeyAlternativeZoom = "Middle Mouse Button",
    KeyPrimaryAlternativeFire = "Right Mouse Button",
    KeyPrimaryBulletTime = "None",
    KeyPrimaryFire = "Left Mouse Button",
    KeyPrimaryFireBestWeapon1 = "Left Shift",
    KeyPrimaryFireBestWeapon2 = "Left Ctrl",
    KeyPrimaryFireSwitch = "R",
    KeyPrimaryFireSwitchToggle = "T",
    KeyPrimaryFlashlight = "None",  -- default "L"
    KeyPrimaryForwardRocketJump = "None",
    KeyPrimaryJump = "Space",
    KeyPrimaryMenu = "None",
    KeyPrimaryMoveBackward = "S",
    KeyPrimaryMoveForward = "W",
    KeyPrimaryNextWeapon = "Mouse Wheel Forward",
    KeyPrimaryPause = "None",  -- default "P"
    KeyPrimaryPreviousWeapon = "Mouse Wheel Back",
    KeyPrimaryQuickLoad = "None",  -- default "F9"
    KeyPrimaryQuickSave = "None",  -- default "F5"
    KeyPrimaryRocketJump = "None",
    KeyPrimarySayToAll = "None",
    KeyPrimarySayToTeam = "None",
    KeyPrimaryScoreboard = "Tab",
    KeyPrimaryScreenshot = "F12",
    KeyPrimarySelectBestWeapon1 = "None",
    KeyPrimarySelectBestWeapon2 = "None",
    KeyPrimaryStrafeLeft = "A",
    KeyPrimaryStrafeRight = "D",
    KeyPrimaryWeapon1 = "1",
    KeyPrimaryWeapon2 = "2",
    KeyPrimaryWeapon3 = "3",
    KeyPrimaryWeapon4 = "4",
    KeyPrimaryWeapon5 = "5",
    KeyPrimaryWeapon6 = "6",
    KeyPrimaryWeapon7 = "7",
    KeyPrimaryWeapon8 = "8",
    KeyPrimaryWeapon9 = "9",
    KeyPrimaryWeapon10 = "0",
    KeyPrimaryWeapon11 = "F1",
    KeyPrimaryWeapon12 = "F2",
    KeyPrimaryWeapon13 = "F3",
    KeyPrimaryWeapon14 = "F4",
    KeyPrimaryUseCards = "None",  -- default "E"
    KeyPrimaryZoom = "Z",
    Language = "english",
    LMSLives = 5,
    ManualIP = "127.0.0.1",
    MasterVolume = 100,
    MaxPlayers = 16,
    MaxSpectators = 8,
       MessagesKeys = {"None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None",},
    MessagesSayAll = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
    MouseSensitivity = 40,
    Multisample = "x0",
    MusicVolume = 33,
    NetworkInterface = "",
    ParticlesDetail = 2,
    PlayerModel = 2,
    PlayerName = "Unnamed",
    PowerupDrop = false,
    Powerups = true,
    PrecacheData = 0,
    Projectors = false,
    PublicServer = false,
    RenderSky = 2,
    Resolution = "1024X768",
    ReverseStereo = false,
    ServerMaps = {},
    ServerMapsFFA = {"DM_Illuminati","DM_Cursed","DM_Sacred","DM_Factory","DM_Trainstation","DM_Fallen1"},
    ServerMapsTDM = {"DM_Mine","DM_Sacred","DM_Trainstation","DM_Cursed"},
    ServerMapsTLB = {"DM_Illuminati","DM_Cursed","DM_Fallen1","DM_Sacred"},
    ServerMapsPCF = {"DMPCF_Tower","DMPCF_Warehouse"},
    ServerMapsVSH = {"DM_Fallen2","DM_Sacred","DM_Illuminati"},
    ServerMapsCTF = {"CTF_Forbidden","CTF_Chaos","CTF_Trainstation"},
    ServerMapsDUE = {"DM_Sacred","DM_Fragenstein","DM_Unseen","DM_Fallen2"},
    ServerMapsLMS = {"DM_Factory","DM_Trainstation","DM_Cursed","DM_Illuminati"},
    ServerMapsCLA = {"DM_Factory","DM_Trainstation","DM_Cursed","DM_Illuminati"}, -- PK++ gamemode
    ServerMapsRAC = {"RACE_Psycho"},
    ServerName = "Painkiller++",
    ServerPassword = "",
    ServerPort = 3455,
    SfxVolume = 100,
    Shadows = 0,
    ShowDaydreamWarning = true,
    SmoothMouse = true,
    SoundFalloffSpeed = 6,
    SoundPan = 50,
    SoundProvider3D = "Miles Fast 2D Positional Audio",
    SoundQuality = "High",
    SpeakersSetup = "Two Speakers",
    StartupWeapon = 0,
    SwitchFire = { false, false, false, false, false },
    Team = 0,
    TeamDamage = false,
    TextureFiltering = "Bilinear",
    TextureQuality = 0,
    TextureQualityArchitecture = 0,
    TextureQualityCharacters = 0,
    TextureQualitySkies = 0,
    TextureQualityWeapons = 0,
    TimeLimit = 15,  -- default "20"
    LimitServerFPS = false,
    ServerFPS = 30,
    UserCaptureLimit = true,
    UserLMSLives = true,
    UserKick = true,
    UserBankick = true,
    UserMaxPlayers = true,
    UserMaxSpectators = true,
    UserPowerupDrop = true,
    UserPowerups = true,
    UserWeaponsStay = true,
    UserTeamDamage = true,
    UserWeaponRespawnTime = true,
    UserAllowBunnyhopping = true,
    UserAllowBrightskins = true,
    UserAllowForwardRJ = true,
    UserReloadMap = true,
    UserGameMode = true,
    UserMapChange = true,
    UserMapAnyChange = true,
    UserTimeLimit = true,
    UserFragLimit = true,
    UserStartupWeapon = true,

  -- PK++ additions
    UserProPlus = true,
    UserForceSpec = true,
    UserAllready = true,
    UserTeamlock = true,
    UserAddbot = true,
    UserBotMinPlayers = true,
    UserBotAttack = true,
    UserBotSkill = true,
    UserKickBot = true,
    UserKickAllBots = true,
    UserReferee = true,
    UserRestartMap = true,
    UserSafeRespawn = true,
    UserWarmupDamage = true,
    UserFallingDamage = true,
    UserRocketFix = true,
    UserTelefrag = true,

    UserStopMatchOnPlayersQuit = true,
    UserStopMatchOnTeamQuit = true,
    UserBrightAmmo = true,
    UserBrightSkinsArmors = true,
    UserForceModel = true,
    UserForceModel_Teams = true,

    UserGrapplingHook = true,
    UserGLCollideCombo = true,

    ViewWeaponModel = true,
    WeaponBob = 0,
    WeaponNormalMap = true,
    WeaponPriority = { 72, 71, 62, 61, 51, 52, 41, 42, 32, 31, 22, 21, 12, 11, 0 },
    WeaponSpecular = true,
    WeaponsStay = true,
    WeaponRespawnTime = 30,
    NoAmmoSwitch = false,
    LowQualityMultiplayerSFX = false,
    WarpEffects = true,
    WaterFX = 1,
    WeatherEffects = true,
    WheelSensitivity = 3, -- default "2"
    WarmUpTime = 10, -- default "14.99"
    CameraInterpolation = true, -- only for MP client
    CameraInterpolatePosition = false, -- PK++
    CameraInterpolateAngle = false, -- PK++
    MaxFpsMP = 125,  --default "120"
    NetcodeStatsUpdateDelay = 1000,
    NetcodeStatsNumberToAverageFrom = 1,
    NetcodeServerFramerate = 25,
    NetcodeClientMaxBytesPerSecond = -1,
    NetcodeLocalPlayerSynchroEveryNFrames = 0,
    NetcodeMaxPlayerActionsPassed = 3,
    NetcodeEnemyPredictionInterpolation = true,
    NetcodeEnemyPredictionInterpolationFactor = 0.66,
    NetcodeMinUpstreamFrameSize = 0,
    ZoomFOV = 50,
    StopMatchOnTeamQuit = false,
    NoWarmup = false,
    PureScripts = false,	-- strict scripts checksum checking during net connection
    ShowTimer = true,
    ShowTimerCountUp = true,
    PKTV = false,
    PKTVFps = 20,
    PKTVDelay = 30000, --ms
    PKTVPassword = "",
--    MBStats = {0,0,0,0,0,12495}, -- (fury,endurance,double haste,blessing,forgiveness)

	-- Admin info (for ASE)
	Admin = "",
    Email = "",
    URL = "",
    Location = "",
    ModName = "PK++",
    ClientConsoleLockdown = false,

  -- PK++ config params

  -- PK++ Admin additional settings
    Password = "",
    RefPass = "",
    RconPass = "",
    MOTD = " ;Enjoy your stay;Have fun!; ",
    PitabotEnabled = false,
    PiTaBOT = 1,

  -- PK++ 1.31
    --AddPlayerObjects = true,
    --Interpolation = 1,
    --InterpolationNoSmooth = true,
    --InterpolationTolerance = 100,
    PrecacheDeferLoadingPlayers = false,
    PrecacheDeferLoadingRest = false,

    --DefaultFont = "Courbd",
    --ShowHide = true,
    --ShowHidePrint = false,

  -- Visual/FX
    NoExplosions = false,
    NoBlood = false,
    NoGibs = false,
    NoSmoke = false,
    NoImpactFX = false,
    NoTrailStake = false,
    NoTrailFreezer = false,
    NoTrailGrenade = false,
    NoTrailRocket = false,
    NoTrailShuriken = false,
    NoTrailBolt = false,
    NoTrailHeater = false,
    NoMuzzleFlashFX = false,
    NoPickupFX = false,
    NoDamageFX = false,
    NoPowerUpFX = false,
    PicmipFX = false,
    ThinShaft = false,
    NoSpawnEffects = false,
    NoFlames = false,

    ItemRespawnFix = true,

  -- HUD / UI / Crosshair
    BrightAmmo = false,
    BrightSkins = true,
    BrightSkinsArmors = false,
    BrightSkinsFull = false,
    BrightSkins_DeadBody = false,
    ForceModel = true,
    ForceModel_Teams = true,
    ChatIcon = true,
    ChatIcon_Anim = false,
    SimpleItems = false,
    WeaponsIcons = 2,
    TeammateIcon = 1,
    TeammateIcon_RGB = {0,0,0,0},

    CrosshairTeamStatus = true,
    QuitConfirmation = false,
    DisableMOTDRendering = false,
    LanguageNoCD = "english",
    ColouredIcons = false,
    DisableHud = false,
    TeamOverlay = true,
    ShowPing = false,
    TeamOverlayX = 0.7,
    TeamOverlayY = 0.71,
    TeamOverlayW = 0.3,
    TeamOverlayFontSize = 16,
    OldScoreboard = false,
    AltScoreboard = false,
    ScoreboardShowPacketLoss = false,
    CustomCrosshairLocation = false,
    CustomCrosshairLocationX = 0.5,
    CustomCrosshairLocationY = 0.5,
    ScoreboardFontSize = 20,

    CrosshairHit_RGB = {255,0,0},
    CrosshairHit_Trans = 255,
    CrosshairHit = false,

    HUD_AmmoList = 2,
    HUD_AmmoList_Size = {0.8, 0.8},
    HUD_AmmoList_Position = {0, 120},
    HUD_AmmoList_Position_Save = {0, 0},
    HUD_Ammolist_Marker_Primary = false,
    HUD_HudStyle = 1,
    HUD_Show_FPS = true,
    HUD_Show_PacketLoss = true,
    HUD_Show_Ping = true,
    HUD_Show_Speedmeter = 1,
    HUD_Show_Timer = 2,
    HUD_Infos_Items = 1,
    HUD_FPS_Setting = {508,4,26},
    HUD_FPS_Setting_Save = {0,0,0},
    HUD_PL_Setting = {508,4,26},
    HUD_PL_Setting_Save = {0,0,0},
    HUD_Ping_Setting = {508,4,26},
    HUD_Ping_Setting_Save = {0,0,0},
    HUD_Ping_Colored = false,
    HUD_SMeter_Setting = {508,4,26},
    HUD_SMeter_Setting_Save = {0,0,0},
    HUD_Timer_Setting = {0,718,40},
    HUD_Timer_Setting_Save = {0,0,0},
    HUD_ConsolePosition = 565,
    HUD_ConsoleFontSize = 20,
    HUD_Scores = true,
    HUD_Scores_Frame = 1,
    HUD_Scores_A_Setting = {50,733,1},
    HUD_Scores_A_Setting_Save = {0,0,0},
    HUD_Scores_B_Setting = {50,683,1},
    HUD_Scores_B_Setting_Save = {0,0,0},
    HUD_Brightskins_Style = false,
    HUD_Show_Medals = false,
    HUD_Flag_Icon = true,
    HUD_Flag_Icon_Trans = 255,
    HUD_Flag_Icon_Setting = {0,-280,0.73},
    HUD_Flag_Icon_Setting_Save = {0,0,0},
    HUD_PowerUp_Icons = true,
    HUD_PowerUp_Timer = true,
    HUD_PowerUp_Icons_Trans = 255,
    HUD_Rage_Icon_Setting = {489,0,0.73},
    HUD_Rage_Icon_Setting_Save = {0,0,0},
    HUD_Modifier_Icon_Setting = {489,70,0.73},
    HUD_Modifier_Icon_Setting_Save = {0,0,0},
    HUD_Immunity_Icon_Setting = {489,-70,0.73},
    HUD_Immunity_Icon_Setting_Save = {0,0,0},
    HUD_Medal_NoMercy_Icon = true,
    HUD_Medal_Yes_Icon = true,
    HUD_Medal_Good_Icon = true,
    HUD_Medal_Stylish_Icon = true,
    HUD_Medal_Sweet_Icon = true,
    HUD_Medals_Icons_Trans = 255,
    HUD_Medals_Icon_Setting = {0,240,0.73},
    HUD_Medals_Icon_Setting_Save = {0,0,0},
    HUD_Switch_HudBar = 0,
    HUD_Show_CurrentWeapon_Icon = false,
    HUD_Show_CurrentWeapon_Icon_Save = false,
    HUD_3DIcon_Anim = true,
    HUD_3DCurrentWeaponIcon_Anim = true,
    HUD_Icons_Trans = 255,
    HUD_Armor_Icon_Setting = {987,30,0.58},
    HUD_Armor_Text_Setting = {937,30,0.55},
    HUD_Health_Icon_Setting = {987,66,0.58},
    HUD_Health_Text_Setting = {937,66,0.55},
    HUD_Weapon1_Icon_Setting = {37,66,0.58},
    HUD_Weapon2_Icon_Setting = {37,30,0.58},
    HUD_CurrentWeapon_Icon_Setting = {512,48,0.8},
    HUD_Weapon1_Text_Setting = {87,66,0.55},
    HUD_Weapon2_Text_Setting = {87,30,0.55},
    HUD_CurrentWeapon_Icon_Setting_Save = {0,0,0},
    HUD_Weapon1_Icon_Setting_Save = {0,0,0},
    HUD_Weapon1_Text_Setting_Save = {0,0,0},
    HUD_Weapon2_Icon_Setting_Save = {0,0,0},
    HUD_Weapon2_Text_Setting_Save = {0,0,0},
    HUD_Armor_Icon_Setting_Save = {0,0,0},
    HUD_Armor_Text_Setting_Save = {0,0,0},
    HUD_Health_Icon_Setting_Save = {0,0,0},
    HUD_Health_Text_Setting_Save = {0,0,0},

    HUD_Show_Ammo = true,
    HUD_Show_Health_Icon = true,
    HUD_Bar_Trans = 125,
    HUD_Ammolist_Marker_RGB = {125,125,125},
    HUD_Ammolist_Marker_Trans = 125,
    HUD_Ammolist_Count_RGB = {255,255,255},
    HUD_Ammolist_Count_Trans = 255,
    HUD_Ammolist_Icons_Trans = 255,
    HUD_Scores_Count_RGB = {255,255,255},
    HUD_Count_RGB = {255,255,255},
    HUD_Count_Trans = 255,
    HUD_FragMessageFontSize = 22,
    HUD_FragMessage_Status = false,
    HUD_FragMessage_Status_Timing = 240,
    HUD_FragMessage_Status_Setting = {400,4,22},
    HUD_FragMessage_Status_Setting_Save = {0,0,0},
    HUD_TeamChatOnly = false,
    --HUD_TimerPos = 900,

	-- TeamScoresShadowLevel = 2, -- PK++ 1.2
	-- ShowFPSShadowLevel = 2,
	-- ShowPingShadowLevel = 2,
	-- ShowTimerShadowLevel = 2,
	-- ShowTimerShadow = true,
	-- ShowFPSShadow = true,
	-- ShowPingShadow = true,
	-- ShowPingX = 0.8789,
	-- ShowPingY = 0.1412,
	-- CrosshairNames = true,
	-- CrosshairNamesTeamOnly = false,
	-- CrosshairNamesDisableInDuel = true,
	-- TeamScores = true,
	-- TeamScoresShadow = true,
	-- AmmolistHideWeapons = false,
    -- TeamScoresX = 0.86,
 	-- TeamScoresY = 0.75,
 	-- ShowTimerX = 0.8789,
 	-- ShowTimerY = 0.0651,
    -- TeamScoresFontSize = 32,
    -- ShowTimerFontSize = 45,
    -- Simplehud = false,
    -- SimplehudShadow = true,
    -- HUD_CurrentWeapon_Icon = true,

    CrosshairNamesE = "Red",
    CrosshairNamesT = "Blue",
    CrosshairNamesFontSize = 20,
    HelpsOnPressKeys = true,
    ShowWeaponAnim = false,
    Crosshair_All = 1,
    Crosshair_PK = 1,
    Crosshair_SG = 1,
    Crosshair_GL = 1,
    Crosshair_RL = 1,
    Crosshair_LG = 1,
    Crosshair_SM = 1,
    Crosshair_BG = 1,
    CrosshairTrans_All = 100,
    CrosshairTrans_PK = 100,
    CrosshairTrans_SG = 100,
    CrosshairTrans_GL = 100,
    CrosshairTrans_RL = 100,
    CrosshairTrans_LG = 100,
    CrosshairTrans_SM = 100,
    CrosshairTrans_BG = 100,
    CrosshairR_All = 255,
    CrosshairR_PK = 255,
    CrosshairR_SG = 255,
    CrosshairR_GL = 255,
    CrosshairR_RL = 255,
    CrosshairR_LG = 255,
    CrosshairR_SM = 255,
    CrosshairR_BG = 255,
    CrosshairG_All = 255,
    CrosshairG_PK = 255,
    CrosshairG_SG = 255,
    CrosshairG_GL = 255,
    CrosshairG_RL = 255,
    CrosshairG_LG = 255,
    CrosshairG_SM = 255,
    CrosshairG_BG = 255,
    CrosshairB_All = 255,
    CrosshairB_PK = 255,
    CrosshairB_SG = 255,
    CrosshairB_GL = 255,
    CrosshairB_RL = 255,
    CrosshairB_LG = 255,
    CrosshairB_SM = 255,
    CrosshairB_BG = 255,
    CrosshairSize_All = 100,
    CrosshairSize_PK = 100,
    CrosshairSize_SG = 100,
    CrosshairSize_GL = 100,
    CrosshairSize_RL = 100,
    CrosshairSize_LG = 100,
    CrosshairSize_SM = 100,
    CrosshairSize_BG = 100,
    PositioningSystem = 0,
    SetCrossPerWeapons = 8,

  -- Weapon / Gameplay Settings
    Weapon1_Setting = {0,0,0,0,0,0},
    Weapon1_Setting_Save = {0,0,0,0,0,0},
    Weapon2_Setting = {0,0,0,0,0,0},
    Weapon2_Setting_Save = {0,0,0,0,0,0},
    Weapon3_Setting = {0,0,0,0,0,0},
    Weapon3_Setting_Save = {0,0,0,0,0,0},
    Weapon4_Setting = {0,0,0,0,0,0},
    Weapon4_Setting_Save = {0,0,0,0,0,0},
    Weapon5_Setting = {0,0,0,0,0,0},
    Weapon5_Setting_Save = {0,0,0,0,0,0},
    Weapon6_Setting = {0,0,0,0,0,0},
    Weapon6_Setting_Save = {0,0,0,0,0,0},
    Weapon7_Setting = {0,0,0,0,0,0},
    Weapon7_Setting_Save = {0,0,0,0,0,0},

    WeaponsPositioning = true,
    HUD_FragMessage = true,

    FPS = true,
    ConfigMapView = false,
    MapView = true,
    MapViewShowRespawns = false,

  -- Keys
    KeyAlternativeQuickMenu = "None",
    KeyAlternativeQuickMenuValidate = "None",
    KeyAlternativeQuit = "None",
    KeyAlternativeVoteYes = "None",
    KeyAlternativeVoteNo = "None",
    KeyAlternativeReadyUnready = "None",
    KeyAlternativeTeam = "None",
    KeyAlternativeKill = "None",
    KeyAlternativeBreak = "None",
    KeyAlternativeSpectator = "None",
    KeyAlternativeDisconnect = "None",
    KeyAlternativeNetStats = "None",
    KeyAlternativeStatsOverlay = "None",
    KeyPrimaryQuickMenu = "Numpad 0",
    KeyPrimaryQuickMenuValidate = "Numpad Enter",
    KeyPrimaryQuit = "F8",
    KeyPrimaryVoteYes = "None",
    KeyPrimaryVoteNo = "None",
    KeyPrimaryReadyUnready = "F5",
    KeyPrimaryTeam = "None",
    KeyPrimaryKill = "None",
    KeyPrimaryBreak = "None",
    KeyPrimarySpectator = "None",
    KeyPrimaryDisconnect = "None",
    KeyPrimaryNetStats = "None",
    KeyPrimaryStatsOverlay = "None",

  -- Sound
    HitSound = true,
    NoGong = false,
    NoMPComments = false,
    Newhitsound = false,
    HitsoundTeammate = true,
    CustomHudSound = false,
    LowAmmoSound = true,
    KillSound = true,
    LASoundVolume = 100,
    KillSoundVolume = 100,
    HitSoundVolume = 100,
    HitSoundTeamVolume = 100,
    FlagCarrierSound = true,
    NoChatBeep = false,

    Windowed = false, -- Enables Window mode settings that come with the 4GB RAM patch by XDavidXtreme; otherwise should be false.

  -- Logging / Recording
    AutoScreenshot = false,
    Autorecord = false,
    Autoexec = true,
    LogfileDaily = true,
    Logging = true,
    Logfile = "GameLog",
    AutoStatsDump = true,

  -- Bots
    BotMinPlayers = 2,
    BotLimit = 16,
    BotAttack = true,
    BotFindItems = true,
    BotFakePing = true,
    BotCheckStubNose = true,
    BotSkill = 5,
    BotNames = {"#4Robotn#4i#1k","Pie#3","#1S#2c#3u#4b#5a#6d#7i#8v#9e#0r","#5B#3lue#4m#5int","#0Unnewerr","C#3o#2smo","#C#4o#5W#4P#3i#2E","E#2liza","#6O#3m#ego","#7F#5rog","#3L#1ippman","C#4H#3#m'1#4astry","#3P#3etronius","#P#3O#2J","#3BlueLizard","#3W#4orrie","#2W#4estbrook","#3D#1HMEJA","#4Sud#1a#4fed","#4Heath#4Moore","P#3oo#0H","O#4ri#2on","#6K#4um#2quat","#6R#4i#6ngo","#4Laur#5ence","#3Sword#2king","klaus", "seb", "#3Gozo#423","#3M#4arvin","Luxor","#4G#3unkel","Will 4456","H#34x#40#2r","#3Billy","#3S#2cott","C#2hewy","#3Bikini#3Girl","#3Pr#4o#1wl","#4Ob#6seq#6ious","Numin","#1Aftershock","MaidMarian","#3Rumbraugh","#4I#1den","#4S#2wiss#5T#6ony","Gabba","#4Grrr","#4O","Aj","#2flump","Powerbladder5.3","S#4tropp","Yurrie"},
    BotTaunts = {"are you trying?","lag","do you know who vo0 is?","erm?","...?","I'm not even trying, can you tell?","hmm?","are you aliasing?","damn netcode","u sux","i dont know this map that well","pie","I'm only using keys","Try harder? :)",":o)","hahahahehehe :-)","All hail the king!","leave the armour for me please","I own Maniax, do you know him?",":DDDD","blah","hmmm","stop using the rl please","can we play fallen2 after this?","my mouse feels odd","my monitor just went off","hmm","erm","hm","nm","give me a sec while I clean my mouse","hi","k?","wtf?","cpl what?","err","do you have lag too?","are you in a clan?","how?","ok","sure","yes","erm","good",":)","fu",":/",":p",":d",":))",":o","B)",">:(","<:)","hah","dumdeedum","hmmm..","try aiming?","heh","where is the RL?","dont shoot for a sec","wanna join my clan?","*yawn*","haha","hehe","hoho","mm :)","pow!","I beat vo0 once","damn","zut alors","oh","er"},
    BotEliza = true,
    BotChat = true,
    BotQuickRespawn = true,

  -- Other
    DirectInput = true,

    RaceTimeX = 400,
    RaceTimeY = 255,
    RaceTimeSize = 25,
    HUDShowItemTimers = false,

    Overtime = 0,  -- default "2"
    DuelQueue = true,
    TournamentSettings = false,
    ForceSpec = false,
    RestartMaps = true,
    AutoTeamLock = false,
    ImpureClientWarning = false,

    AutoJump = true,

    ProPlus = false,
    FallingDamage = true,
    SafeRespawn = false,
    --DeadBodyFix = false,
    --FreezerFix = false,

    RocketFix = true,
    RocketLogging = false,
    RocketsFromGun = true,
    --RocketExplosionStrength = 3150,
    --RocketFactor = 0.6,
    --RocketFactorOrder = 1,

    Telefrag = true,
    TelefragRadius = 1.8, -- Telefrag radius (0 is off). PK v1.64 default is 1.8; PK++ 1.2 default is 1.2.

    SoulMPColor = false, -- Colored souls. String and boolean values: false, "Random", "White", "Yellow", "Green", "Blue", "Cyan", "Magenta"

    StopMatchOnPlayersQuit = true, -- Similar to StopMatchOnTeamQuit for non-team modes. Required for changing to a default map when no players because Painkiller does not have map autodownload. Spectators are considered non-palyers too.

    WarmupDamage = true,
    WeaponPrediction = true,

    GrapplingHook = false,
    GLCollideCombo = false,
}
--============================================================================
--============================================================================
function Cfg:Save()    
    local f = io.open (CfgFile,"w")
    if not f then
        if Game then
            Game:Print("WARNING: "..CfgFile.."is read-only. Configuration not saved.")
        else
            MsgBox("WARNING: "..CfgFile.." is read-only. Configuration not saved.")
        end
		return
    end
       
    local sorted = {}
    for i,o in self do  table.insert(sorted,{i,o}) end
    table.sort(sorted,function (a,b) return a[1] < b[1] end)
          
              
    for i,v in sorted do
        if string.sub(v[1],1,1) ~= '_' and (type(v[2]) == "string" or type(v[2]) == "number" or type(v[2]) == "boolean") then                
            local val = v[2]
            if type(v[2]) == "string" then 
                --val = '"'..v[2]..'"' 
                val = string.format('%q', v[2])
            end                
            if type(v[2]) == "boolean" then 
                if v[2] == true then val = "true" else val = "false" end
            end
            f:write("Cfg."..v[1].." = "..val..'\n')
        end
        if type(v[2]) == "table" then
			local tab = v[2]
			f:write( "Cfg."..v[1].." = {" )
			for i=1,table.getn(tab) do
				local val = tab[i]
				if type(val) == "string" or type(val) == "number" or type(val) == "boolean" then
					if type(val) == "string" then 
                        --val = '"'..val..'"' 
                        val = string.format('%q', val)
                    end
					if type(val) == "boolean" then 
						if val == true then val = "true" else val = "false" end
					end
					f:write( val.."," )
				end
			end
			f:write( "}"..'\n' )
        end
    end
    io.close(f)
end
--============================================================================
function Cfg:Load()
	Cfg:CheckLanguage()
	Cfg:CheckLimitations()
	DoFile(CfgFile,false)
	if Cfg.Autoexec then
		DoFile(CfgAuto,false)	-- Autoexec.ini [ THRESHER ]
	end
	Cfg:Check()
end
--============================================================================
function Cfg:FindMPModel(name)
	for i=1,table.getn(MPModels) do
		if MPModels[i] == name then return i end
	end

	return 2
end
--============================================================================
function Cfg_ClearKeyBinding( key )
	local name, o = next( Cfg, nil )
	while name do
		if string.find( name, "KeyAlternative" ) or string.find( name, "KeyPrimary" ) then
			if( Cfg[name] == key ) then Cfg[name] = "None" end
		end
		name,o = next( Cfg, name )
	end
	
	for i=1,table.getn(Cfg.MessagesKeys) do
		if Cfg.MessagesKeys[i] == key then
			Cfg.MessagesKeys[i] = "None"
		end
	end
	
	local short = INP.GetShortNameByEngName( key )
	if short and Cfg["Bind_"..string.upper(short)] then
		Cfg["Bind_"..string.upper(short)] = nil
	end
	
	-- Cfg:Save()
end
--============================================================================
function Cfg_BindKeyCommands()
	local name, o = next( Cfg, nil )
	while name do
		if string.find( name, "Bind_" ) then
			Console:Cmd_BIND(string.sub(name,6).." "..Cfg[name],true)
		end
		name,o = next( Cfg, name )
	end
end
--============================================================================
function Cfg:SetCrosshairPerWeapons(val)
  local crossw = {
    "Crosshair_PK",
    "Crosshair_SG",
    "Crosshair_GL",
    "Crosshair_RL",
    "Crosshair_LG",
    "Crosshair_SM",
    "Crosshair_BG",
    "Crosshair_All"
  }
  if Player._CurWeaponIndex == val then
    local v = val
    if Cfg.SetCrossPerWeapons == 8 then
      v = 8
    end
    if INP.Key(Keys.Num8) == 1 then
      Cfg[crossw[v]] = Cfg[crossw[v]] + 1
      if Cfg[crossw[v]] > 34 then
        Cfg[crossw[v]] = 1
      end
    elseif INP.Key(Keys.Num2) == 1 then
      Cfg[crossw[v]] = Cfg[crossw[v]] - 1
      if Cfg[crossw[v]] < 1 then
        Cfg[crossw[v]] = 34
      end
    end
  end
end

function Cfg:SetCrosshairTransPerWeapons(val)
  local crosstw = {
    "CrosshairTrans_PK",
    "CrosshairTrans_SG",
    "CrosshairTrans_GL",
    "CrosshairTrans_RL",
    "CrosshairTrans_LG",
    "CrosshairTrans_SM",
    "CrosshairTrans_BG",
    "CrosshairTrans_All"
  }
  if Player._CurWeaponIndex == val then
    local v = val
    if Cfg.SetCrossPerWeapons == 8 then
      v = 8
    end
    if INP.Key(Keys.Num7) == 2 then
      Cfg[crosstw[v]] = Cfg[crosstw[v]] + 1
      if Cfg[crosstw[v]] > 100 then
        Cfg[crosstw[v]] = 100
      end
    elseif INP.Key(Keys.Num1) == 2 then
      Cfg[crosstw[v]] = Cfg[crosstw[v]] - 1
      if Cfg[crosstw[v]] < 1 then
        Cfg[crosstw[v]] = 1
      end
    end
  end
end

function Cfg:SetCrosshairSizePerWeapons(val)
  local crosshairws = {
    "CrosshairSize_PK",
    "CrosshairSize_SG",
    "CrosshairSize_GL",
    "CrosshairSize_RL",
    "CrosshairSize_LG",
    "CrosshairSize_SM",
    "CrosshairSize_BG",
    "CrosshairSize_All"
  }
  if Game.currentTime > Hud.movespeedstarttime and Hud.movespeedstart then
    Hud.keypressmode = 2
  end
  if Player._CurWeaponIndex == val then
    local v = val
    if Cfg.SetCrossPerWeapons == 8 then
      v = 8
    end
    if INP.Key(Keys.Num9) == Hud.keypressmode then
      if Hud.keypressmode == 1 then
        Hud.movespeedstarttime = Game.currentTime + Hud.latency
        Hud.movespeedstart = true
      end
      Cfg[crosshairws[v]] = tonumber(string.format("%03d", Cfg[crosshairws[v]] + 1))
      if Cfg[crosshairws[v]] > 200 then
        Cfg[crosshairws[v]] = 200
      end
    elseif INP.Key(Keys.Num3) == Hud.keypressmode then
      if Hud.keypressmode == 1 then
        Hud.movespeedstarttime = Game.currentTime + Hud.latency
        Hud.movespeedstart = true
      end
      Cfg[crosshairws[v]] = tonumber(string.format("%03d", Cfg[crosshairws[v]] - 1))
      if Cfg[crosshairws[v]] < 30 then
        Cfg[crosshairws[v]] = 30
      end
    elseif INP.Key(Keys.Num0) == 1 then
      Cfg[crosshairws[v]] = 100
    end
  end
  if INP.Key(Keys.Num9) == 3 or INP.Key(Keys.Num3) == 3 then
    Hud.movespeedstarttime = 0
    Hud.movespeedstart = false
    Hud.keypressmode = 1
  end
end
--============================================================================
-- PK++ 1.31
--============================================================================
function toboolean(statement)
	if statement == true or statement == "true" or statement == 1 or statement == "1" then
		return true
	else
		return false
	end
end
--============================================================================
function Cfg:CheckVar(var, vartype, lower, upper, default)
	if vartype == "n" then
		if type(var) == "string" then
			var = tonumber(var)
		end
		
		if type(var) ~= "number" then
			var = default or lower
		end

		if var < lower then var = lower end
		if var > upper then var = upper end
		return var
	elseif vartype == "b" then
		var = toboolean(var)
		return var
	end
end
--============================================================================
function Cfg:CheckLanguage()
	local label = GetCDLabel()
	local lang = Cfg.Language


		if label then label = string.lower(label) end
		if label == "pk_fr_1" then
			lang = "french"
		elseif label == "pk_de_1" then
			lang = "german"
		elseif label == "pk_it_1" then
			lang = "italian"
		elseif label == "pk_sp_1" then
			lang = "spanish"
		elseif label == "pk_pl_1" then
			lang = "polish"
		elseif label == "pk_ru_1" then
			lang = "russian"
		elseif label == "pk_cz_1" then
			lang = "czech"
		elseif label == "pk_1" then
			lang = "english"
		end

	if lang == "french" then
		Cfg.KeyPrimaryStrafeLeft = "Q"
		Cfg.KeyPrimaryMoveForward = "Z"
	end

  local findlan = {"french","german","italian","spanish","polish","russian","czech"}
  for i = 1, 7 do
    local languagefile = FS.File_Exist("../Bin/" .. findlan[i] .. ".lan")
    if languagefile then
      if Cfg.LanguageNoCD == findlan[i] then
        os.remove("./" .. findlan[i] .. ".lan")
      end
      Cfg.LanguageNoCD = findlan[i]
    end
  end
  if label then
    Cfg.Language = lang
  --	Cfg.Language = "polish"
  else
    Cfg.Language = Cfg.LanguageNoCD
  end

	if Cfg.Language == "german" then
		Tweak.GlobalData.DisableGibs = true
		Tweak.GlobalData.GermanVersion = true
	end
end
--============================================================================
function Cfg:CheckLimitations()
	if IsMPDemo() then
		Cfg.ServerName = "Painkiller Demo"
	end

	if not IsPKInstalled() then
		Cfg.ServerMapsFFA = {"DM_Factory","DM_Trainstation","DM_Fallen1"}
		Cfg.ServerMapsTDM = {"DM_Mine","DM_Trainstation"}
		Cfg.ServerMapsTLB = {"DM_Fallen1"}
		Cfg.ServerMapsPCF = {}
		Cfg.ServerMapsVSH = {"DM_Fallen2"}
		Cfg.ServerMapsCTF = {"CTF_Forbidden","CTF_Chaos","CTF_Trainstation"}
		Cfg.ServerMapsDUE = {"DM_Fragenstein","DM_Fallen2"}
		Cfg.ServerMapsLMS = {"DM_Factory","DM_Trainstation"}
		Cfg.ServerMapsCLA = {"DM_Sacred","DM_Cursed","DM_Factory","DM_Trainstation","DM_Fallen1"}
	end
end
--============================================================================
function Cfg:Check()
	-- General checking of variables
	Cfg.TextureQuality = Cfg:CheckVar(Cfg.TextureQuality,"n",0,3,0)
	Cfg.TimeLimit = Cfg:CheckVar(Cfg.TimeLimit,"n",0,999,10)
	Cfg.FragLimit = Cfg:CheckVar(Cfg.FragLimit,"n",0,999,15)
	Cfg.MaxPlayers = Cfg:CheckVar(Cfg.MaxPlayers,"n",1,16,8)
	Cfg.MaxSpectators = Cfg:CheckVar(Cfg.MaxSpectators,"n",0,8,0)
	-- Cfg.MaxFpsMP = Cfg:CheckVar(Cfg.MaxFpsMP,"n",0,MAXFPSMP_MAX_LIMIT)
	Cfg.ConnectionSpeed = Cfg:CheckVar(Cfg.ConnectionSpeed,"n",1,5,5)
	Cfg.WheelSensitivity = Cfg:CheckVar(Cfg.WheelSensitivity,"n",0,4,3)
	Cfg.RenderSky = Cfg:CheckVar(Cfg.RenderSky,"n",0,2,2)
	Cfg.GraphicsQuality = Cfg:CheckVar(Cfg.GraphicsQuality,"n",0,6,0)
	Cfg.DynamicLights = Cfg:CheckVar(Cfg.DynamicLights,"n",0,2,1)
	-- Cfg.DecalsStayTime = Cfg:CheckVar(Cfg.DecalsStayTime,"n",0,2,2)
	Cfg.CrosshairSize = Cfg:CheckVar(Cfg.CrosshairSize,"n",0.2,3,1)
	Cfg.StartupWeapon = Cfg:CheckVar(Cfg.StartupWeapon,"n",0,7,0)
	--Cfg.Tiny = Cfg:CheckVar(Cfg.Tiny,"n",0,999)
	--Cfg.ShowWeaponX = Cfg:CheckVar(Cfg.ShowWeaponX,"n",-999,999)
	--Cfg.ShowWeaponY = Cfg:CheckVar(Cfg.ShowWeaponY,"n",-999,999)
	--Cfg.ShowWeaponZ = Cfg:CheckVar(Cfg.ShowWeaponZ,"n",-999,999)
	--Cfg.Interpolation = Cfg:CheckVar(Cfg.Interpolation,"n",0,1)
	--Cfg.InterpolationTolerance = Cfg:CheckVar(Cfg.InterpolationTolerance,"n",0,9999)
	--Cfg.NetcodeServerFrameRate = Cfg:CheckVar(Cfg.NetcodeServerFrameRate,"n",0,1000)
	
	--Cfg.AddPlayerObjects = Cfg:CheckVar(Cfg.AddPlayerObjects,"b")
	--Cfg.InterpolationNoSmooth = Cfg:CheckVar(Cfg.InterpolationNoSmooth,"b")
	Cfg.PrecacheDeferLoadingPlayers = Cfg:CheckVar(Cfg.PrecacheDeferLoadingPlayers,"b")
	Cfg.PrecacheDeferLoadingRest = Cfg:CheckVar(Cfg.PrecacheDeferLoadingRest,"b")

	--Cfg.DrawGraphGamePulses = Cfg:CheckVar(Cfg.DrawGraphGamePulses,"b")
	--Cfg.DrawGraphFramerate = Cfg:CheckVar(Cfg.DrawGraphFramerate,"b")
	--Cfg.DrawGraphLatency = Cfg:CheckVar(Cfg.DrawGraphLatency,"b")
	--Cfg.DrawGraphScriptIn = Cfg:CheckVar(Cfg.DrawGraphScriptIn,"b")
	--Cfg.DrawGraphScriptOut = Cfg:CheckVar(Cfg.DrawGraphScriptOut,"b")
	--Cfg.DrawGraphEventIn = Cfg:CheckVar(Cfg.DrawGraphEventIn,"b")
	--Cfg.DrawGraphEventOut = Cfg:CheckVar(Cfg.DrawGraphEventOut,"b")


	-- Specific cases
	if type(Cfg.PlayerModel) == "string" then
		Cfg.PlayerModel = Cfg:FindMPModel(Cfg.PlayerModel)
	end

	if Cfg.PlayerModel < 1 or Cfg.PlayerModel > 7 then
			Cfg.PlayerModel = 1
	end

	if IsMPDemo() then
		Cfg.Credits = false
		if Cfg.PlayerModel > 4 then Cfg.PlayerModel = 1 end
	end

	if Cfg.ServerFPS < SERVERFPS_MIN_LIMIT then
			Cfg.ServerFPS = SERVERFPS_MIN_LIMIT
	end
	if Cfg.ServerFPS > SERVERFPS_MAX_LIMIT then
			Cfg.ServerFPS = SERVERFPS_MAX_LIMIT
	end

	if type(Cfg.BestExplosives[1]) == "string" or table.getn(Cfg.WeaponPriority) < 15 then
		Cfg.BestExplosives = {0,41,32,}
		Cfg.BestNonExplosives = {72,71,62,61,51,52,42,31,22,21,12,11,0,}
		Cfg.BestWeapons1 = {32,0,72,71,62,61,51,52,41,42,31,22,21,12,11,}
		Cfg.BestWeapons2 = {12,0,72,71,62,61,51,52,41,42,32,31,22,21,11,}
		Cfg.WeaponPriority = { 72, 71, 62, 61, 51, 52, 41, 42, 32, 31, 22, 21, 12, 11, 0 }
	end

	if Cfg.MouseSensitivity < 1 then Cfg.MouseSensitivity = Cfg.MouseSensitivity * 400 end

	for i=1,table.getn(Cfg.MessagesSayAll) do
		if Cfg.MessagesSayAll[i] ~= 0 then
			Cfg.MessagesSayAll[i] = 1
		end
	end
	Cfg.PlayerName = HUD.ColorSubstr(tostring(Cfg.PlayerName),16)

	-- Removal of obsolete variables from the config.ini
	Cfg.NewPrediction = nil
	Cfg.FramerateLock = nil
	Cfg.UseGamespy = nil
	Cfg.PushLatency = nil
	Cfg.PlayerPrediction = nil

	if not IsPKInstalled() then
		Cfg.PublicServer = false
	end
	if IsBlackEdition() then
		Cfg.BlackEdition = true
	else
		Cfg.BlackEdition = false
	end
end
--============================================================================